<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <meta charset="UTF-8"/>
    <meta name="keywords" content="reachability, isochrone, isochrones, isoline, isolines, openrouteservice, leaflet, plugin, nyc, manhattan, new york"/>
    <meta name="description" content="NYC Manhattan reachability map using Leaflet and OpenRouteService API for isochrone analysis"/>
    <title>NYC Reachability</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
          crossorigin=""/>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    
    <!-- Reachability plugin CSS -->
    <link rel="stylesheet" href="css/leaflet.reachability.css"/>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- City Name Display -->
    <div class="city-name">
        <div class="city-label">NEW YORK CITY</div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Map -->
        <div id="map"></div>
        
        <!-- Sidebar Panel -->
        <div class="sidebar-panel">
            <div class="sidebar-header">
                <h2>REACHABILITY</h2>
                <div class="subtitle">SETTINGS</div>
            </div>
            
            <!-- Travel Mode Selection -->
            <div class="control-card">
                <h3>Travel Mode</h3>
                <div class="travel-mode-buttons">
                    <button class="mode-btn active" data-mode="foot-walking">
                        <i class="fa fa-male"></i>
                        <span>Walking</span>
                    </button>
                    <button class="mode-btn" data-mode="cycling-regular">
                        <i class="fa fa-bicycle"></i>
                        <span>Cycling</span>
                    </button>
                    <button class="mode-btn" data-mode="driving-car">
                        <i class="fa fa-car"></i>
                        <span>Driving</span>
                    </button>
                    <button class="mode-btn" data-mode="wheelchair">
                        <i class="fa fa-wheelchair-alt"></i>
                        <span>Wheelchair</span>
                    </button>
                </div>
            </div>
            
            <!-- Analysis Type -->
            <div class="control-card">
                <h3>Analysis Type</h3>
                <div class="analysis-buttons">
                    <button class="analysis-btn active" data-type="time">
                        <i class="fa fa-clock-o"></i>
                        <span>Time</span>
                    </button>
                    <button class="analysis-btn" data-type="distance">
                        <i class="fa fa-road"></i>
                        <span>Distance</span>
                    </button>
                </div>
            </div>
            
            <!-- Range Selection -->
            <div class="control-card">
                <h3>Range Settings</h3>
                <div class="range-controls">
                    <label for="range-value">Time Range (minutes):</label>
                    <select id="range-value" class="range-select">
                        <option value="5">5 minutes</option>
                        <option value="10">10 minutes</option>
                        <option value="15" selected>15 minutes</option>
                        <option value="20">20 minutes</option>
                        <option value="30">30 minutes</option>
                    </select>
                    
                    <div class="checkbox-container">
                        <input type="checkbox" id="show-intervals" checked />
                        <label for="show-intervals">Show intervals</label>
                    </div>
                </div>
            </div>
            
            <!-- Location Input -->
            <div class="control-card">
                <h3>Plot Location</h3>
                <div class="location-controls">
                    <div class="input-group">
                        <label for="location-input">Address or Coordinates:</label>
                        <div class="location-input-container">
                            <input type="text" id="location-input" class="location-input" 
                                   placeholder="Times Square or 40.7580, -73.9855" />
                            <div class="location-dropdown" id="location-dropdown" style="display: none;">
                                <!-- Search results will be populated here -->
                            </div>
                        </div>
                    </div>
                    <div class="input-buttons">
                        <button class="action-btn search-btn">
                            <i class="fa fa-search"></i>
                            <span>Search</span>
                        </button>
                        <button class="action-btn coords-btn">
                            <i class="fa fa-crosshairs"></i>
                            <span>Pinpoint</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="control-card">
                <h3>Actions</h3>
                <div class="action-buttons">
                    <button class="action-btn draw-btn">
                        <i class="fa fa-pencil"></i>
                        <span>Plot</span>
                    </button>
                    <button class="action-btn clear-btn">
                        <i class="fa fa-trash"></i>
                        <span>Clear Plot</span>
                    </button>
                    <button class="action-btn export-btn">
                        <i class="fa fa-download"></i>
                        <span>Export GeoJSON</span>
                    </button>
                </div>
            </div>
            
            <!-- Subway Controls -->
            <div class="control-card">
                <h3>Map Layers</h3>
                <div class="checkbox-container">
                    <input type="checkbox" id="subway-toggle" checked />
                    <label for="subway-toggle">Show Subway System</label>
                </div>
            </div>
            
            <!-- Legend -->
            <div class="control-card">
                <h3>Legend</h3>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color walking"></div>
                        <span>Walking</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color cycling"></div>
                        <span>Cycling</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color driving"></div>
                        <span>Driving</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color wheelchair"></div>
                        <span>Wheelchair</span>
                    </div>
                    <div class="legend-item">
                        <div class="subway-station-icon" style="width: 20px; height: 20px; flex-shrink: 0;">ðŸš‡</div>
                        <span>Subway Stations</span>
                    </div>
                </div>
            </div>
            
            <!-- Statistics -->
            <div class="control-card">
                <h3>Statistics</h3>
                <div class="stats">
                    <p><span class="stat-label">Analysis Count:</span> <span class="stat-value" id="analysis-count">0</span></p>
                    <p><span class="stat-label">Total Area:</span> <span class="stat-value" id="total-area">0 kmÂ²</span></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
            crossorigin=""></script>
    
    <!-- Reachability plugin JavaScript -->
    <script src="js/leaflet.reachability.js"></script>
    
    <!-- MTA Subway System JavaScript -->
    <script src="js/mta-csv-loader.js"></script>
    <script src="js/subway-routes.js"></script>
    <script src="js/metro-data.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="js/app.js"></script>
</body>
</html>
